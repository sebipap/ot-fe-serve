{"version":3,"sources":["components/home-content.js","components/hero.js","components/loading.js","components/main-nav.js","components/nav-bar.js","components/footer.js","views/home.js","components/login-button.js","components/logout-button.js","components/authentication-button.js","views/profile.js","apiCalls/postData.js","apiCalls/getData.js","views/test.js","components/event.js","views/events.js","components/date.js","components/event-buyer.js","components/form.js","components/form-element.js","components/form-row.js","components/event-owner.js","views/eventPage.js","auth/protected-route.js","components/ticket.js","views/ticketPage.js","components/ticketPreview.js","views/my-tickets.js","components/create-event.js","views/my-events.js","components/scannedTicketInfo.js","views/qrReader.js","app.js","auth/auth0-provider-with-history.js","index.js"],"names":["HomeContent","className","target","rel","href","Hero","src","alt","width","Loading","Placeholder","as","animation","xs","items","route","name","key","MainNav","map","item","to","exact","activeClassName","NavBar","Footer","Home","LoginButton","loginWithRedirect","useAuth0","Button","onClick","LogoutButton","logout","returnTo","window","location","origin","AuthenticationButton","isAuthenticated","Profile","user","picture","email","useState","redirect","setRedirect","Card","Body","postData","data","token","fetch","serverUrl","method","body","JSON","stringify","headers","Authorization","catch","e","console","error","process","getData","then","res","json","getDataProtected","CreateEvent","responseMessage","setResponseMessage","message","setMessage","messages","setMessages","getAccessTokenSilently","send","a","type","value","onChange","msg","Event","props","event","_id","description","imgURL","Alert","role","Events","events","setEvents","setError","loadingEvents","setLoadingEvents","useEffect","err","Date","eventObj","dateObj","show","setShow","response","setResponse","date","time","price","capacity","occupied","dateID","createTicket","log","ownerName","ownerEmail","id","style","height","Offcanvas","onHide","placement","Header","closeButton","Title","EventBuyer","dates","setDates","loadingDates","setLoadingDates","datesComponents","SubmitButton","ResComponent","status","variant","MyForm","formTitle","initialValues","url","children","redirectURL","setMsg","setStatus","submitted","setSubmitted","resID","setResID","onSubmit","values","setSubmitting","ok","isSubmitting","FormElement","title","optional","textarea","component","class","required","placeholder","for","FormRow","EventOwner","EventPage","match","params","eventData","setEventData","loading","setLooading","creator","isOwner","sub","ProtectedRoute","args","withAuthenticationRequired","onRedirecting","Ticket","ticketID","blob","imageBlob","setImageObjectURL","URL","createObjectURL","imageObjectURL","TicketPage","ticketData","setTicketData","setLoading","TicketPreview","MyTicketsPage","tickets","setTickets","getTickets","ticket","eventName","eventURL","MyEvents","getEvents","ScannedTicketInfo","TicketScanner","result","setResult","delay","onError","onScan","App","isLoading","path","Test","Auth0ProviderWithHistory","history","useHistory","domain","clientId","redirectUri","onRedirectCallback","appState","push","pathname","audience","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7e17ea6e.chunk.js","sourcesContent":["import React from \"react\";\n\nconst HomeContent = () => (\n  <div className=\"next-steps\">\n    <h2 className=\"my-5 text-center\">How do I do it?</h2>\n\n    <div className=\"row\">\n      <div className=\"col-md-5 mb-4\">\n        <h6 className=\"mb-3\">\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://auth0.com/docs/connections\"\n          >\n            Manage tickets for a cinema, theater or a concert. \n          </a>\n        </h6>\n        <p>\n          Lorem ipsum\n        </p>\n      </div>\n\n      <div className=\"col-md\" />\n\n      <div className=\"col-md-5 mb-4\">\n        <h6 className=\"mb-3\">\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://auth0.com/docs/multifactor-authentication\"\n          >\n            Enable Multi-Factor Authentication\n          </a>\n        </h6>\n        <p>\n          Add an extra layer of security by enabling Multi-factor\n          Authentication, requiring your users to provide more than one piece of\n          identifying information. Push notifications, authenticator apps, SMS,\n          and DUO Security are supported.\n        </p>\n      </div>\n    </div>\n\n    <div className=\"row\">\n      <div className=\"col-md-5 mb-4\">\n        <h6 className=\"mb-3\">\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://auth0.com/docs/anomaly-detection\"\n          >\n            Anomaly Detection\n          </a>\n        </h6>\n        <p>\n          Auth0 can detect anomalies and stop malicious attempts to access your\n          application. Anomaly detection can alert you and your users of\n          suspicious activity, as well as block further login attempts.\n        </p>\n      </div>\n\n      <div className=\"col-md\" />\n\n      <div className=\"col-md-5 mb-4\">\n        <h6 className=\"mb-3\">\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://auth0.com/docs/rules\"\n          >\n            Learn About Rules\n          </a>\n        </h6>\n        <p>\n          Rules are JavaScript functions that execute when a user authenticates\n          to your application. They run once the authentication process is\n          complete, and you can use them to customize and extend Auth0's\n          capabilities.\n        </p>\n      </div>\n    </div>\n  </div>\n);\n\nexport default HomeContent;\n","import React from \"react\";\n\nconst logo = \"https://notion-emojis.s3-us-west-2.amazonaws.com/v0/svg-twitter/1f39f-fe0f.svg\"\n\nconst Hero = () => (\n  <>\n  <div className=\"row\">\n    <div className=\"col-3\">\n\n    <h1 className=\"display-3\">Open Ticket</h1>\n    </div>\n    <div className=\"col-9\">\n\n    <img className=\"mb-4 app-logo\" src={logo} alt=\"React logo\" width=\"120\" />\n    </div>\n  </div>\n    <p className=\"lead\">\n      Create events, sell tickets, manage bookings and create boarding passes{\" \"}\n    </p>\n  </>\n);\n\nexport default Hero;\n","import React from \"react\";\nimport { Placeholder} from \"react-bootstrap\";\n\nconst Loading = () => (\n  <Placeholder as=\"p\" animation=\"glow\" className=\"m-auto\">\n    <Placeholder xs={12} />\n  </Placeholder>\n);\n\nexport default Loading;\n","import { NavLink } from \"react-router-dom\";\nimport React from \"react\";\n\nconst items = [\n  { route: \"/\", name: \"Home\", key: \"Home\" },\n  { route: \"/events\", name: \"Events\",  key:\"Events\" },\n  { route: \"/profile\", name: \"Account\", key: \"Account\" }\n  //{ route: \"/create-event\", name: \"New Event\" },\n  //{ route: \"/test\", name: \"Test\" },\n];\n\nconst MainNav = () => (\n  <ul className=\"nav nav-pills\">\n    {items.map((item) => (\n      <li className=\"nav-item\" key={item.key}>\n        <NavLink\n          to={item.route}\n          exact\n          className=\"btn transparent\"\n          activeClassName=\"btn blue \"\n        >\n          {item.name}\n        </NavLink>\n      </li>\n    ))}\n  </ul>\n);\n\nexport default MainNav;\n","// src/components/nav-bar.js\n\nimport React from \"react\";\n\nimport MainNav from \"./main-nav\";\n\nconst NavBar = () => {\n  return (\n    <div className=\"nav-container mb-5  mt-5\">\n      <nav className=\"navbar navbar-expand-md \">\n        <div className=\"container\">\n          <MainNav />\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\r\n\r\nconst Footer = () => (\r\n  <div className=\"pt-4 my-md-5 pt-md-5 border-top p-3 bg-light\">\r\n    <h4>OpenTicket app </h4>\r\n    <h6>\r\n      By <a href=\"https://sebipap.github.io/\">Sebastián Papanicolau</a>\r\n    </h6>\r\n  </div>\r\n);\r\n\r\nexport default Footer;\r\n","import React, { Fragment } from \"react\";\n\nimport { Hero, HomeContent } from \"../components\";\n\nconst Home = () => (\n  <Fragment>\n    <Hero />\n    <hr />\n    <HomeContent />\n  </Fragment>\n);\n\nexport default Home;\n","// src/components/login-button.js\n\nimport React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {Button} from \"react-bootstrap\"\n\nconst LoginButton = () => {\n  const { loginWithRedirect } = useAuth0();\n  return (\n    <Button\n      onClick={() => loginWithRedirect()}\n    >\n      Log In\n    </Button>\n  );\n};\n\nexport default LoginButton;\n","// src/components/logout-button.js\n\nimport React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {Button} from \"react-bootstrap\"\n\nconst LogoutButton = () => {\n  const { logout } = useAuth0();\n  return (\n    <Button\n      onClick={() =>\n        logout({\n          returnTo: window.location.origin,\n        })\n      }\n    >\n      Log Out\n    </Button>\n  );\n};\n\nexport default LogoutButton;\n","// src/components/authentication-button.js\n\nimport React from \"react\";\n\nimport LoginButton from \"./login-button\";\nimport LogoutButton from \"./logout-button\";\n\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst AuthenticationButton = () => {\n  const { isAuthenticated } = useAuth0();\n\n  return isAuthenticated ? <LogoutButton /> : <LoginButton />;\n};\n\nexport default AuthenticationButton;\n","// src/views/profile.js\n\nimport React, { useState } from \"react\";\n\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport AuthenticationButton from \"../components/authentication-button\";\nimport { Card} from \"react-bootstrap\";\nimport { Redirect } from \"react-router-dom\";\n\nconst Profile = () => {\n  const { user } = useAuth0();\n  const { name, picture, email } = user;\n  const [redirect, setRedirect] = useState(\"\");\n\n  if (redirect) return <Redirect to={redirect} />;\n\n  return (\n    <div>\n      <div className=\"container mb-5\">\n        <h1 className=\"mb-4\">Profile</h1>\n        <AuthenticationButton />\n\n      </div>\n      <hr />\n\n      <div className=\"row align-items-center profile-header\">\n        <div className=\"col-md-2 mb-3\">\n          <img\n            src={picture}\n            alt=\"Profile\"\n            className=\"rounded-circle img-fluid profile-picture mb-3 mb-md-0\"\n          />\n        </div>\n\n        <div className=\"col-md text-center text-md-left\">\n          <h2>{name}</h2>\n          <p className=\"lead text-muted\">{email}</p>\n        </div>\n      </div>\n\n        <Card onClick={() => setRedirect(\"/my-tickets\")} className=\"m-1 floating-card\">\n          <Card.Body>\n          <h3>My Tickets</h3>\n          </Card.Body>\n        </Card>\n\n        <Card onClick={() => setRedirect(\"/my-events\")} className=\"m-1 floating-card\">\n          <Card.Body>\n          <h3>My Events</h3>\n          </Card.Body>\n        </Card>\n    </div>\n  );\n};\n\nexport default Profile;\n","const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\nexport function postData(route, data, token) {\r\n  const url = serverUrl + \"/api/\" + route;\r\n  return fetch(url, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .catch((e) => console.error(e));\r\n}\r\n","const serverUrl = process.env.REACT_APP_SERVER_URL;\r\n\r\nexport function getData(route){\r\n  const url = serverUrl + \"/api/\" + route;\r\n  return fetch(url)\r\n  .then(res => res.json())\r\n}\r\n\r\n export function getDataProtected (route, token){\r\n  const url = serverUrl + \"/api/\" + route;\r\n  return fetch(url, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then(res => res.json())\r\n    .catch((e) => console.error(e));\r\n}\r\n\r\n\r\n\r\n","// src/views/external-api.js\n\nimport React, { useState } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { postData } from \"../apiCalls/postData\";\nimport { getData } from \"../apiCalls/getData\";\n\nconst CreateEvent = () => {\n  const [responseMessage, setResponseMessage] = useState(\"aa\");\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  const { getAccessTokenSilently } = useAuth0();\n\n  const getMessages = () => {\n    getData(\"messages/get-messages\").then((res) => setMessages(res));\n  };\n\n  const send = async () => {\n    const token = await getAccessTokenSilently();\n    postData(\"messages/create-message\", { message: message }, token).then(\n      (res) => setResponseMessage(res)\n    );\n  };\n\n  return (\n    <div className=\"container\">\n      <input\n        type=\"text\"\n        className=\"input\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n      />\n\n      <button type=\"button\" className=\"btn btn-primary\" onClick={send}>\n        Send\n      </button>\n\n      <button type=\"button\" className=\"btn btn-primary\" onClick={getMessages}>\n        Get Messages\n      </button>\n\n      {responseMessage && (\n        <div className=\"mt-5\">\n          <h6 className=\"muted\">Result</h6>\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <code className=\"col-12 text-light bg-dark p-4\">\n                {JSON.stringify(responseMessage)}\n              </code>\n            </div>\n          </div>\n          <h6 className=\"muted\">Mensajes</h6>\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <code className=\"col-12 text-light bg-dark p-4\">\n                {messages.map((msg) => (\n                  <h4>{msg.msg}</h4>\n                ))}\n              </code>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CreateEvent;\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Event = (props) => {\r\n  const { _id, name, description, location, imgURL } = props.event;\r\n\r\n  return (\r\n    <>\r\n      <NavLink\r\n        to={`/event/${_id}`}\r\n        exact\r\n        className=\"floating-card card col-sm-7\"\r\n      >\r\n        <img className=\"card-img-top\" src={imgURL} alt=\"Event IMG\" />\r\n        <div className=\"card-body\">\r\n          <h4 className=\"card-title\">{name}</h4>\r\n          <div>\r\n            <p className=\"card-text\">{description}</p>\r\n\r\n            <p className=\"card-text\">{location}</p>\r\n          </div>{\" \"}\r\n        </div>\r\n      </NavLink>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nexport default Event;\r\n","// src/views/external-api.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getData } from \"../apiCalls/getData\";\r\nimport Event from \"../components/event\";\r\nimport Loading from \"../components/loading\"\r\n\r\nconst Alert = ({ msg }) => (\r\n  <div\r\n    className=\"alert alert-warning alert-dismissible fade show\"\r\n    role=\"alert\"\r\n  >\r\n    <strong>{JSON.stringify(msg)}</strong>\r\n  </div>\r\n);\r\n\r\nconst Events = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [loadingEvents, setLoadingEvents] = useState(true)\r\n\r\n  useEffect(() => {\r\n    getData(\"events/all\")\r\n      .then((res) => {\r\n        setEvents(res.map((event) => <Event event={event} key={event._id} />))\r\n        setLoadingEvents(false);\r\n      })\r\n      .catch((err) => setError(\" \" + err));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mb-5\">\r\n        <h1 className=\"mb-4\">Events</h1>\r\n\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"container\">{error ? <Alert msg={error} /> : events}</div>\r\n      {loadingEvents ? <Loading /> : events}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Events;\r\n","import { useAuth0 } from \"@auth0/auth0-react\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Offcanvas } from \"react-bootstrap\";\r\nimport { postData } from \"../apiCalls/postData\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst Date = ({ eventObj, dateObj }) => {\r\n  const [show, setShow] = useState(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleClose = () => setShow(false);\r\n\r\n  const [response, setResponse] = useState(\"\");\r\n  const [redirect, setRedirect] = useState(null);\r\n\r\n  const { user } = useAuth0();\r\n  const { date, time, price, capacity, occupied } = dateObj;\r\n  const { name, location } = eventObj;\r\n  const { getAccessTokenSilently } = useAuth0();\r\n  const dateID = dateObj._id;\r\n\r\n  const createTicket = async () => {\r\n    console.log(`la id es ${dateID}`);\r\n    const token = await getAccessTokenSilently();\r\n    const reqBody = {\r\n      dateID,\r\n      ownerName: user.name,\r\n      ownerEmail: user.email,\r\n    };\r\n    postData(\"events/ticket/create-ticket\", reqBody, token)\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setResponse(res.msg + \"\");\r\n        setRedirect(res.id);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md\">\r\n              <h5 className=\"card-title\">{`${date} at ${time}`}</h5>\r\n              <small className=\"text-muted\">{`Capacity: ${\r\n                capacity - occupied\r\n              } of ${capacity} (${100 / (capacity / occupied)}%) `}</small>{\" \"}\r\n            </div>\r\n            <div className=\"col-sm\">\r\n              <h5>{`$${price}`}</h5>\r\n            </div>\r\n            <div className=\"col-sm\">\r\n              <Button onClick={handleShow}>Buy Ticket</Button>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"progress\" style={{ height: \"2px\" }}>\r\n              <div\r\n                className=\"progress-bar\"\r\n                role=\"progressbar\"\r\n                style={{ width: 100 / (capacity / occupied) + \"%\" }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {redirect ? <Redirect to={`/ticket/${redirect}`} /> : <> </>}\r\n\r\n      <Offcanvas show={show} onHide={handleClose} placement=\"end\">\r\n        <Offcanvas.Header closeButton>\r\n          <Offcanvas.Title>Buy Ticket</Offcanvas.Title>\r\n        </Offcanvas.Header>\r\n        <Offcanvas.Body>\r\n          <h4>Event Details</h4>\r\n          <table className=\"table\">\r\n            <tbody>\r\n              <tr>\r\n                <td>Event</td>\r\n                <td>{name}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Location</td>\r\n                <td>{location}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Date</td>\r\n                <td>{date}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Time</td>\r\n                <td>{time}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <hr />\r\n\r\n          <h4>Your Details</h4>\r\n          <table className=\"table\">\r\n            <tbody>\r\n              <tr>\r\n                <td>Name</td>\r\n                <td>{user.name}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Email</td>\r\n                <td>{user.email}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <hr />\r\n\r\n          <h4>Checkout </h4>\r\n\r\n          <table className=\"table\">\r\n            <tbody>\r\n              <tr>\r\n                <td>Ticket Price</td>\r\n                <td>{`$ ${price}`}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Discount (-100%)</td>\r\n                <td>{`$-${price}  `}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Tax (21%)</td>\r\n                <td>{`$ 0`}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <hr />\r\n          <h5>{`Total:  $${price - price}`}</h5>\r\n          <div className=\"col m-1\">\r\n            <Button className=\"green\" onClick={() => createTicket(dateID)}>\r\n              Pay Total\r\n            </Button>\r\n            {response}\r\n          </div>\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Date;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getData } from \"../apiCalls/getData\";\r\nimport Date from \"./date\";\r\nimport Loading from \"./loading\";\r\n\r\nconst EventBuyer = ({ id, description, location, imgURL }) => {\r\n  const [dates, setDates] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loadingDates, setLoadingDates] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getData(`events/${id}/dates`)\r\n      .then((res) => {\r\n        setDates(res);\r\n        setLoadingDates(false);\r\n      })\r\n      .catch((err) => setError(\" \" + err));\r\n       // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const datesComponents = dates.map((dateObj) => {\r\n    return <Date dateObj={dateObj} eventObj={{ id, description, location, imgURL }} key={dateObj._id} />;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        {error}\r\n        <div className=\"card m-3 shadow\">\r\n          <div className=\"card-body\">\r\n            <img src={imgURL} className=\"img-fluid mb-4\" alt=\"\" />\r\n            <h5>{`Location: ${location}`}</h5>\r\n            <p>{` ${description}`}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"card m-3 shadow\">\r\n          <div className=\"card-body\">\r\n            <h3 className=\"m-3\"> Dates </h3>\r\n            {loadingDates ? (\r\n              <Loading />\r\n            ) : (\r\n              <>\r\n                {datesComponents}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EventBuyer;\r\n","import React, { useState } from \"react\";\r\nimport { Formik, Form } from \"formik\";\r\nimport { postData } from \"../apiCalls/postData\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { Offcanvas, Button, Alert } from \"react-bootstrap\";\r\nimport Loading from \"./loading\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst SubmitButton = () => <Button type=\"submit\">Submit</Button>;\r\n\r\nconst ResComponent = ({ status, msg }) => (\r\n  <Alert variant={status ? \"success\" : \"danger\"} className=\"m-3\">\r\n    {status ? `Success: ${msg}` : `Error: ${msg}`}{\" \"}\r\n  </Alert>\r\n);\r\n\r\nconst MyForm = ({ formTitle, initialValues, url, children, redirectURL }) => {\r\n  const [msg, setMsg] = useState(null);\r\n  const [status, setStatus] = useState(0);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [resID, setResID] = useState(null);\r\n\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const { getAccessTokenSilently } = useAuth0();\r\n\r\n  return (\r\n    <>\r\n      <Button className=\"gray\" onClick={handleShow}>\r\n        {formTitle}\r\n      </Button>\r\n\r\n      <Offcanvas show={show} onHide={handleClose}>\r\n        <Offcanvas.Header closeButton>\r\n          <Offcanvas.Title> {formTitle}</Offcanvas.Title>\r\n        </Offcanvas.Header>\r\n        <Offcanvas.Body>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            onSubmit={async (values, { setSubmitting }) => {\r\n              setSubmitting(true);\r\n              const token = await getAccessTokenSilently();\r\n              postData(url, values, token)\r\n                .then((res) => {\r\n                  setStatus(res.ok);\r\n                  return res.json();\r\n                })\r\n                .then((res) => {\r\n                  setMsg(res.msg);\r\n                  setResID(res.id);\r\n                })\r\n                .then(() => {\r\n                  setSubmitting(false);\r\n                  setSubmitted(true);\r\n                });\r\n            }}\r\n          >\r\n            {({ isSubmitting }) => (\r\n              <Form className=\"container\">\r\n                {children}\r\n                {isSubmitting ? <Loading /> : <SubmitButton />}\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n\r\n          {submitted ? (\r\n            <>\r\n              <ResComponent status={status} msg={msg} />\r\n              {redirectURL ? <Redirect to={redirectURL(resID)} /> : null}\r\n            </>\r\n          ) : null}\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyForm;\r\n","import React from \"react\";\r\nimport { Field, ErrorMessage } from \"formik\";\r\n\r\nconst FormElement = ({ name, title, optional, type, textarea }) => {\r\n  return (\r\n    <div className=\"col\">\r\n      <ErrorMessage name={name} component=\"div\" />\r\n\r\n      <div class=\"form-floating mb-3\">\r\n        <Field\r\n          required={!optional}\r\n          type={type}\r\n          class=\"form-control\"\r\n          id={name}\r\n          placeholder={title}\r\n          name={name}\r\n          as={textarea ? \"textarea\" : \"input\"}\r\n        />\r\n        <label for=\"floatingInput\">{title}</label>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormElement;\r\n","import React from \"react\";\r\n\r\nconst FormRow = ({ children }) => {\r\n  return <div className=\"row gy-2 gx-3 align-items-center\">{children}</div>;\r\n};\r\n\r\nexport default FormRow;\r\n","import React from \"react\";\r\nimport MyForm from \"../components/form\";\r\nimport FormElement from \"../components/form-element\";\r\nimport FormRow from \"../components/form-row\";\r\n\r\nconst EventOwner = ({ id }) => {\r\n  return (\r\n      <MyForm\r\n        initialValues={{\r\n          date: \"\",\r\n          time: \"\",\r\n          price: 0,\r\n          capacity: 0,\r\n        }}\r\n        formTitle=\"New Date\"\r\n        url={`events/${id}/new-date`}\r\n      >\r\n        <FormRow>\r\n          <FormElement type=\"date\" name=\"date\" title=\"Date\" />\r\n          <FormElement type=\"time\" name=\"time\" title=\"Time\" />\r\n        </FormRow>\r\n        <FormRow>\r\n          <FormElement type=\"number\" name=\"price\" title=\"Price\" />\r\n          <FormElement type=\"number\" name=\"capacity\" title=\"Capacity\" />\r\n        </FormRow>\r\n      </MyForm>\r\n  );\r\n};\r\n\r\nexport default EventOwner;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getData } from \"../apiCalls/getData\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport EventBuyer from \"../components/event-buyer\";\r\nimport EventOwner from \"../components/event-owner\";\r\nimport Loading from \"../components/loading\";\r\n\r\nconst EventPage = (props) => {\r\n\r\n  const id = props.match.params.id;\r\n  const [eventData, setEventData] = useState({});\r\n  const [loading, setLooading] = useState(true)\r\n  const [error, setError] = useState(\"\");\r\n  const { name, description, location, imgURL, creator } = eventData;\r\n  const { user } = useAuth0();\r\n\r\n  const isOwner = eventData.creator === user.sub;\r\n\r\n  useEffect(() => {\r\n\r\n      getData(`events/id/${id}`)\r\n      .then((res) => {\r\n        setEventData(res);\r\n        setLooading(false)\r\n      })\r\n      .catch((err) => setError(\" \" + err));\r\n\r\n\r\n  });\r\n\r\n  if (error) return error;\r\n\r\n  if(loading) return <Loading />\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mb-5\">\r\n        <h1 className=\"mb-4 placeholder-glow\" >{name}</h1>\r\n        <h4 className=\"placeholder-glow\">{location} </h4>\r\n      </div>\r\n\r\n      <hr />\r\n\r\n\r\n      <EventBuyer\r\n        imgURL={imgURL}\r\n        description={description}\r\n        creator={creator}\r\n        id={id}\r\n        location={location}\r\n        name={name}\r\n      />\r\n\r\n      {isOwner ? <EventOwner id={id} /> : <></>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EventPage;\r\n","// src/auth/protected-route.js\n\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { withAuthenticationRequired } from \"@auth0/auth0-react\";\nimport { Loading } from \"../components/index\";\n\nconst ProtectedRoute = ({ component, ...args }) => (\n  <Route\n    component={withAuthenticationRequired(component, {\n      onRedirecting: () => <Loading />,\n    })}\n    {...args}\n  />\n);\n\nexport default ProtectedRoute;\n","import { useEffect, useState } from \"react\";\r\nimport { Loading } from \".\";\r\n\r\nconst Ticket = ({\r\n  name,\r\n  location,\r\n  date,\r\n  time,\r\n  price,\r\n  ownerEmail,\r\n  ownerName,\r\n  ticketID,\r\n}) => {\r\n\r\n\r\n  useEffect(() => {\r\n    const tID = ticketID\r\n\r\n    fetch(\r\n      `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${tID}`\r\n    )\r\n      .then((response) => response.blob())\r\n      .then((imageBlob) => {\r\n        setImageObjectURL(URL.createObjectURL(imageBlob));\r\n      });\r\n       // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const [imageObjectURL, setImageObjectURL] = useState(null);\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"p-3 card m-2\">\r\n        <div className=\"row pb-3\">\r\n          <h2>{name}</h2>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-sm\">\r\n            <h3>{location}</h3>\r\n            <hr />\r\n            <h4>{date}</h4>\r\n            <h5>{`at ${time}`}</h5>\r\n          </div>\r\n\r\n          <div className=\"col-md\">\r\n            <h4>{`$${price}`}</h4>\r\n            <hr />\r\n            <h5>{ownerEmail}</h5>\r\n            <h5>{ownerName}</h5>\r\n          </div>\r\n          <div className=\"col-sm p-3\">\r\n            {imageObjectURL ? (\r\n              <a href={imageObjectURL} className=\"card-floating\">\r\n                <img\r\n                  src={imageObjectURL}\r\n                  alt={ticketID}\r\n                  className=\"border p-3\"\r\n                  style={{ width: \"100%\" }}\r\n                />\r\n              </a>\r\n            ) : (\r\n              <div className=\"border p-3\">\r\n                <h5>Loading QR...</h5>\r\n                <Loading />{\" \"}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getData } from \"../apiCalls/getData\";\r\nimport Loading from \"../components/loading\";\r\nimport Ticket from \"../components/ticket\";\r\n\r\nconst TicketPage = (props) => {\r\n  let ticketID = props.match.params.id;\r\n  const [ticketData, setTicketData] = useState({});\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { date, time, price, name, location, ownerName, ownerEmail } =\r\n    ticketData;\r\n\r\n  //const isOwner = eventData.creator == user.sub;\r\n\r\n  useEffect(() => {\r\n\r\n    getData(`events/ticket/${props.match.params.id}`)\r\n      .then((res) => {\r\n        setTicketData(res);\r\n        setLoading(false);\r\n        setError(res.err);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  });\r\n\r\n  if (error) return error;\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  } else {\r\n    return (\r\n      <Ticket\r\n        name={name}\r\n        location={location}\r\n        date={date}\r\n        time={time}\r\n        price={price}\r\n        ownerEmail={ownerEmail}\r\n        ownerName={ownerName}\r\n        ticketID = {ticketID}\r\n      />\r\n    );\r\n  }\r\n};\r\n\r\nexport default TicketPage;\r\n","const TicketPreview = ({\r\n  name,\r\n  location,\r\n  date,\r\n  time,\r\n}) => (\r\n  <>\r\n    <div className=\"card-body\">\r\n      <div className=\"row pb-3\">\r\n        <h2>{name}</h2>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-sm\">\r\n          <h3>{location}</h3>\r\n          <hr />\r\n          <h4>{date}</h4>\r\n          <h5>{`at ${time}`}</h5>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </>\r\n);\r\n\r\nexport default TicketPreview;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { getDataProtected } from \"../apiCalls/getData\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { Loading } from \"../components\";\r\nimport { Alert } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport TicketPreview from \"../components/ticketPreview\";\r\n\r\nconst MyTicketsPage = () => {\r\n  const { getAccessTokenSilently } = useAuth0();\r\n  const [tickets, setTickets] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [redirect, setRedirect] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getTickets() {\r\n      const token = await getAccessTokenSilently();\r\n      getDataProtected(\"events/ticket/user\", token).then((res) => {\r\n        setTickets(res);\r\n        setLoading(false);\r\n      });\r\n    }\r\n    getTickets()\r\n     // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {redirect ? <Redirect to={redirect} /> : null}\r\n      <div className=\"container mb-5\">\r\n        <h1 className=\"mb-4\">My Tickets</h1>\r\n      </div>\r\n      <hr />\r\n\r\n      {loading ? (\r\n        <Loading />\r\n      ) : tickets ? (\r\n        tickets.map((ticket) => (\r\n          <div\r\n            className=\"m-3 floating-card card\"\r\n            onClick={() => setRedirect(`/ticket/${ticket.ticketID}`)}\r\n          >\r\n            <TicketPreview {...ticket} />\r\n          </div>\r\n        ))\r\n      )  :(\r\n        <Alert>You don't have any tickets</Alert>\r\n      ) }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyTicketsPage;\r\n","import React from \"react\";\nimport MyForm from \"./form\";\nimport FormElement from \"./form-element\";\n\nconst CreateEvent = () => {\n  return (\n    <MyForm\n      initialValues={{\n        eventName: \"\",\n        description: \"\",\n        location: \"\",\n        imgURL: \"\",\n      }}\n      formTitle=\"Create a new event\"\n      url=\"events/create-new\"\n      redirectURL = {eventURL => `/event/${eventURL}`}\n    >\n      <FormElement name=\"eventName\" type=\"text\" title=\"Name\" />\n      <FormElement name=\"description\" type=\"text\" title=\"Description\" textarea />\n\n      <FormElement name=\"location\" type=\"text\" title=\"Location\" optional />\n      <FormElement name=\"imgURL\" type=\"text\" title=\"URL of Image\" />\n    </MyForm>\n  );\n};\n\nexport default CreateEvent;\n","// src/views/external-api.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getDataProtected } from \"../apiCalls/getData\";\r\nimport Event from \"../components/event\";\r\nimport CreateEvent from \"../components/create-event\";\r\nimport Loading from \"../components/loading\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst Alert = ({ msg }) => (\r\n  <div\r\n    className=\"alert alert-warning alert-dismissible fade show\"\r\n    role=\"alert\"\r\n  >\r\n    <strong>{JSON.stringify(msg)}</strong>\r\n  </div>\r\n);\r\n\r\nconst MyEvents = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [loadingEvents, setLoadingEvents] = useState(true);\r\n  const { getAccessTokenSilently } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    async function getEvents() {\r\n      const token = await getAccessTokenSilently();\r\n      getDataProtected(\"events/user-events\", token)\r\n        .then((res) => {\r\n          setEvents(\r\n            res.map((event) => <Event event={event} key={event._id} />)\r\n          );\r\n          setLoadingEvents(false);\r\n        })\r\n        .catch((err) => setError(\" \" + err));\r\n    }\r\n\r\n    getEvents();\r\n     // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mb-5\">\r\n        <h1 className=\"mb-4\">My Events</h1>\r\n\r\n        <CreateEvent />\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"container\">{error ? <Alert msg={error} /> : events}</div>\r\n      {loadingEvents ? <Loading /> : events}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyEvents;\r\n","const ScannedTicketInfo = ({\r\n  ownerName,\r\n  date,\r\n  time,\r\n  name,\r\n  location,\r\n  ownerEmail,\r\n}) => (\r\n  <>\r\n    <h3>{ownerName}</h3>\r\n    <h5>{`${date} @ ${time}`}</h5>\r\n    <p>{`${name} in ${location}`}</p>\r\n    <p>{`Email: ${ownerEmail}`}</p>\r\n  </>\r\n);\r\n\r\nexport default ScannedTicketInfo;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport QrReader from \"react-qr-reader\";\r\nimport { getData } from \"../apiCalls/getData\";\r\nimport ScannedTicketInfo from \"../components/scannedTicketInfo\";\r\nimport { Alert, Offcanvas } from \"react-bootstrap\";\r\nimport { Loading } from \"../components\";\r\n\r\nconst TicketScanner = () => {\r\n  const [result, setResult] = useState(\"\");\r\n  const [ticketData, setTicketData] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const handleScan = (data) => {\r\n    if (data) {\r\n      handleShow();\r\n      setResult(data);\r\n    }\r\n  };\r\n  const handleError = (err) => {\r\n    console.error(err);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getData(`events/ticket/${result}`)\r\n      .then((res) => {\r\n        if (res.name) {\r\n          setTicketData(res);\r\n        } else {\r\n          setTicketData(null);\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [result]);\r\n\r\n  return (\r\n    <div>\r\n\r\n      <QrReader\r\n        delay={300}\r\n        onError={handleError}\r\n        onScan={handleScan}\r\n        style={{ width: \"100%\" }}\r\n      />\r\n\r\n      <Offcanvas show={show} onHide={handleClose} placement=\"end\">\r\n        <Offcanvas.Header closeButton></Offcanvas.Header>\r\n        <Offcanvas.Body>\r\n          {loading ? (\r\n            <Loading />\r\n          ) : ticketData ? (\r\n            <ScannedTicketInfo {...ticketData} />\r\n          ) : (\r\n            <Alert variant=\"danger\"> Invalid Ticket </Alert>\r\n          )}\r\n          {}\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketScanner;\r\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport { NavBar, Loading, Footer } from \"./components\";\nimport { Home, Profile, Test, Events, EventPage } from \"./views\";\nimport ProtectedRoute from \"./auth/protected-route\";\n\nimport \"./app.css\";\nimport TicketPage from \"./views/ticketPage\";\nimport MyTicketsPage from \"./views/my-tickets\";\nimport MyEvents from \"./views/my-events\";\nimport TicketScanner from \"./views/qrReader\";\n\nconst App = () => {\n  const { isLoading } = useAuth0();\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <div id=\"app\" className=\"d-flex flex-column h-100\">\n      <NavBar />\n      <div className=\"container flex-grow-1\">\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <ProtectedRoute path=\"/profile\" component={Profile} />\n          <ProtectedRoute path=\"/events\" component={Events} />\n          <ProtectedRoute path=\"/test\" component={Test} />\n          <Route path=\"/event/:id\" component={EventPage} />\n          <Route path=\"/ticket/:id\" component={TicketPage} />\n          <Route path=\"/scan\" component={TicketScanner} />\n\n          <ProtectedRoute path=\"/my-tickets\" component={MyTicketsPage} />\n          <ProtectedRoute path=\"/my-events\" component={MyEvents} />\n\n\n          <ProtectedRoute path=\"/test\" component={Test} />\n\n\n        </Switch>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","// src/auth/auth0-provider-with-history.js\n\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst Auth0ProviderWithHistory = ({ children }) => {\n  const history = useHistory();\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n  const audience = process.env.REACT_APP_AUTH0_AUDIENCE;\n\n  const onRedirectCallback = (appState) => {\n    history.push(appState?.returnTo || window.location.pathname);\n  };\n\n  return (\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={window.location.origin}\n      onRedirectCallback={onRedirectCallback}\n      audience={audience}\n    >\n      {children}\n    </Auth0Provider>\n  );\n};\n\nexport default Auth0ProviderWithHistory;\n","// src/index.js\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Auth0ProviderWithHistory from \"./auth/auth0-provider-with-history\";\nimport \"./index.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n  <Router>\n    <Auth0ProviderWithHistory>\n      <App />\n    </Auth0ProviderWithHistory>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}